# Tool overrides
ar="ar"
ranlib="ranlib"

# The oldest processor supported by macOS is nehalem, so we can safely
# enable its full instruction set give all subsequent processors support it.
cflags_release+=(-march=nehalem)
cflags_optinfo+=(-march=nehalem)

# Build additions
TYPES+=(asan uasan usan tsan)
cflags_asan=("${cflags_debug[@]}" -fsanitize=address)
cflags_uasan=("${cflags_debug[@]}" -fsanitize=address,undefined -fsanitize-recover=signed-integer-overflow)
cflags_usan=("${cflags_debug[@]}" -fsanitize=undefined -fsanitize-recover=signed-integer-overflow)
cflags_tsan=("${cflags_debug[@]}" -fsanitize=thread)

# Modifier additions
MODIFIERS+=(lto)
cflags_lto+=(-flto)
ldflags_lto+=("${cflags[@]}" -flto)
